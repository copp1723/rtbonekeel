# AgentFlow Environment Variables
# This file contains all environment variables required for the AgentFlow application

# ===== ENVIRONMENT =====
# Required: Node environment (development, production, test)
NODE_ENV=development

# ===== DATABASE CONFIGURATION =====
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=
DB_NAME=agentflow

# ===== API KEYS =====
# EKO_API_KEY removed: Eko integration no longer used
# Required: OpenAI API key for insight generation
OPENAI_API_KEY=
# Optional: SendGrid API key for email sending
SENDGRID_API_KEY=your_sendgrid_api_key

# ===== EMAIL CONFIGURATION =====
# Required: Email account for sending notifications
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_TLS=true
EMAIL_USER=your_email_username
EMAIL_PASS=your_email_password
EMAIL_FROM_NAME=AgentFlow
EMAIL_FROM_ADDRESS=noreply@example.com

# OTP email configuration has been removed

# ===== CRM PLATFORM CREDENTIALS =====
# VinSolutions credentials
VIN_SOLUTIONS_USERNAME=your_vinsolutions_username
VIN_SOLUTIONS_PASSWORD=your_vinsolutions_password
# VAUTO credentials
VAUTO_USERNAME=your_vauto_username
VAUTO_PASSWORD=your_vauto_password

# ===== SERVER CONFIGURATION =====
# Optional: Server port (default: 5000)
PORT=3000
# Optional: Server host (default: 0.0.0.0)
HOST=0.0.0.0
# Optional: CORS origins (comma-separated list, default: *)
CORS_ORIGINS=http://localhost:3000,https://example.com
# Optional: Trust proxy (default: false)
TRUST_PROXY=false
# Optional: Session duration in milliseconds (default: 86400000 - 24 hours)
SESSION_DURATION=86400000

# ===== APPLICATION CONFIGURATION =====
# Optional: Log level (default: info in production, debug in development)
LOG_LEVEL=info
# Optional: Log directory (default: ./logs)
LOG_DIR=./logs
# Optional: Download directory for reports (default: ./downloads)
DOWNLOAD_DIR=./downloads
# Optional: Results directory for processed data (default: ./results)
RESULTS_DIR=./results
# Optional: Health check interval in minutes (default: 15)
HEALTH_CHECK_INTERVAL=15
# Optional: Comma-separated list of admin email addresses for alerts
ADMIN_EMAILS=admin@example.com,support@example.com

# ===== SECURITY CONFIGURATION =====
# Required: 32-byte key for AES-256-GCM encryption
ENCRYPTION_KEY=32_byte_hex_key_here
# Required for secure local development: API key for development authentication
# Generate with: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
DEV_API_KEY=

# Required: JWT secret for authentication (min 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=

# Required: Session secret for express-session (min 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
SESSION_SECRET=

# Optional: Security audit logging level (default: info)
# Options: debug, info, warn, error, critical
SECURITY_AUDIT_LEVEL=info

# Optional: Rate limiting configuration
# Enable/disable rate limiting (default: true)
RATE_LIMITING=true
# Rate limit window in milliseconds (default: 60000 - 1 minute)
RATE_LIMIT_WINDOW_MS=60000
# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100
# API key rate limit window in milliseconds (default: 60000 - 1 minute)
API_KEY_RATE_LIMIT_WINDOW_MS=60000
# Maximum API key requests per window (default: 3)
API_KEY_RATE_LIMIT_MAX_REQUESTS=3

# ===== REDIS CONFIGURATION =====
# Optional: Redis connection URL
# REDIS_URL=redis://user:password@localhost:6379
# Optional: Individual Redis connection parameters
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false

# ===== MONITORING CONFIGURATION =====
# Optional: Enable/disable monitoring (default: true)
MONITORING_ENABLED=true

# Sentry Configuration
# Optional: Sentry DSN for error tracking
SENTRY_DSN=https://your-sentry-dsn
# Optional: Sentry traces sample rate (default: 0.2)
SENTRY_TRACES_SAMPLE_RATE=0.2
# Optional: Sentry profiles sample rate (default: 0.1)
SENTRY_PROFILES_SAMPLE_RATE=0.1

# DataDog Configuration
# Optional: DataDog API key
DD_API_KEY=your-datadog-api-key
# Optional: DataDog application key
DD_APP_KEY=your-datadog-app-key
# Optional: DataDog service name (default: agentflow)
DD_SERVICE=agentflow
# Optional: DataDog agent host (default: localhost)
DD_AGENT_HOST=localhost
# Optional: DataDog metric collection interval in seconds (default: 10)
DD_METRIC_INTERVAL=10

# Alert Thresholds
# Optional: Error rate threshold (default: 0.05 = 5%)
ERROR_RATE_THRESHOLD=0.05
# Optional: Database query duration threshold in ms (default: 1000)
DB_QUERY_DURATION_THRESHOLD=1000
# Optional: API response time threshold in ms (default: 2000)
API_RESPONSE_TIME_THRESHOLD=2000
# Optional: Memory usage threshold in MB (default: 800)
MEMORY_USAGE_THRESHOLD=800
# Optional: CPU usage threshold in percent (default: 90)
CPU_USAGE_THRESHOLD=90
# Encryption Configuration
ENCRYPTION_SALT=your-unique-salt-here

# Remove all other credential values after migration